$primary-color = #1abc9c
$alert-color = #E13329
$topbar-bg = #2C3E50
$body-font-color = #34495e
$table-head-font-color = $body-font-color
$table-row-font-color = $body-font-color
$table-head-bg = #eff0f2
$topbar-title-font-size = 20px
$topbar-title-weight = normal
$topbar-height = 57px
$topbar-link-font-size = 16px
$topbar-link-hover-lightness = 0
$topbar-dropdown-bg = $primary-color

horizontal-padding = 21px
history-width = 400px
editor-width = 440px
topbar-height = $topbar-height

@import 'foundation'
@import 'nib'
global-reset()

size(w, h)
  width: w
  height: h

stretch()
  position absolute
  top 0
  left 0
  right 0
  bottom 0

transist(property)
  transition: property 0.4s
  transition-timing-function: cubic-bezier(0.694, 0.0482, 0.335, 1)

html, body
  margin 0
  padding 0

*
  outline: none

body
  font: 17px Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif
  background: #222
  color: #34495e
  stretch()
  overflow: hidden

h1
  image: '/images/logo.png' 22px 28px
  background-repeat: no-repeat
  background-position: 21px 14px
  padding-left: 33px

.CodeMirror
  background-color: transparent !important
  font-size: 14px !important
  font-family: Monaco, Menlo, 'Ubuntu Mono', 'Droid Sans Mono', Consolas, monospace !important
  line-height: 22px !important
  height: 100% !important
  margin: 18px

.top-bar
  transist: margin
  z-index: 1

#history
  color: #fff
  //background-color: white
  position: absolute
  padding 17px horizontal-padding 0
  top: 0
  right: 0
  width: history-width
  bottom: 0

#view
  position: absolute
  top: topbar-height
  bottom: 0
  left: 0
  right: 0
  transist all
  &.anim
    transform: scale(0.9, 0.9)

  #view-editor
    background-color: #34495E
    position: absolute;
    top: 0
    bottom: 0;
    left: 0;
    transist width
    width: editor-width

    .handle
      position: absolute
      size 56px 41px
      top: 7px
      right: -40px
      background-image: url('/images/handle.png')
      z-index: 1000
      transist all
      &:after
        content: ' '
        position: absolute
        size 9px 14px
        top: 14px
        right: 18px
        background-image: url('/images/triangle.png')
        z-index: 1000
        transist all



  #view-result
    position: absolute;
    top: 0
    bottom: 0;
    right: 0;
    left: editor-width
    transist left
    .status-bar
      position: absolute;
      top: 0
      height: 57px
      left: 0
      right: 0
      color: #9EA3A6
      background-color: #ECF0F1
      line-height: 56px
      text-align: right
      padding-right: 20px
      font-size: 16px
    .split-pane
      position: absolute
      top: 56px
      left: 0
      right: 0
      bottom: 0
      #view-result-graph
        background-color: #fff
        position: absolute
        top: 0
        left: 0
        right: 0
        height: 50%
        transist height
      #view-result-table
        background-color: #f7f7f7
        position: absolute
        bottom: 0
        left: 0
        right: 0
        height: 50%
        transist height

#update-button
  position:absolute
  bottom: 16px
  right: 16px

// UI states

.hide-editor #view
  #view-editor
    width: 0
    .handle:after
      transform: rotate(180deg)
      right: 16px
  #view-result
    left: 0

.expand-graph #view #view-result
  #view-result-graph
    height: 100%
  #view-result-table
    height: 0

.expand-table #view #view-result
  #view-result-graph
    height: 0
  #view-result-table
    height: 100%

.show-history
  .top-bar
    margin-right: history-width
  #view
    left: -history-width;
    right: history-width;
    #view-editor
      .handle
        opacity: 0

#query-bar
  background-color: #edeff1
  position: absolute
  top: 0
  left: 0
  right: 0
  height: 92px
  padding 25px horizontal-padding 0

  input
    margin 0

textarea, input[type="text"], input[type="password"], input[type="datetime"], input[type="datetime-local"], input[type="date"], input[type="month"], input[type="time"], input[type="week"], input[type="number"], input[type="email"], input[type="url"], input[type="search"], input[type="tel"], input[type="color"], .uneditable-input
  border: 2px solid #bdc3c7;
  color: $body-font-color;
  font-size: 16px;
  padding: 8px 5px;
  height: 40px;
  text-indent: 6px;
  border-radius: 6px;
  box-shadow: none;
  transition: border .25s linear, color .25s linear;
  -webkit-backface-visibility: hidden;
  &:focus
    border-color: #1abc9c;
    box-shadow: none;
  &.fixed-font
    font-family: Monaco, Menlo, 'Ubuntu Mono', 'Droid Sans Mono', Consolas, monospace;

.alert-box.global
  margin-bottom: 0
  .close
    display: none

#query-view-container
  background-color: #fff
  position: absolute
  top: topbar-height
  bottom: 0
  left: 0
  right: 0

  #view-result
    //background-color: #ccc
    position: absolute
    top: 300px
    right: 200px
    left: 0
    bottom: 0

  #view-sidebar
    //background-color: #ccc
    position: absolute
    top: 0
    left: 0
    bottom: 0
    width: 200px

  #view-active
    position: absolute
    top: 0
    left: horizontal-padding
    bottom: 0
    right: 260px

    li
      cursor: pointer
      font-size: 14px
      font-weight: bold
      padding: 8px
      margin-bottom: 8px
      border: 2px solid #ECF0F1;
      border-radius: 6px;
      &:hover
        transition: border .25s linear, color .25s linear;
        border-color: $primary-color
      &.error
        background-color: #FEF1F0
        border-color: $alert-color

.graph-viz {
  float: left;
  width: 500px;
}

path.link {
  fill: none;
  stroke: #7F8C8D;
  stroke-width: 2px;
}

circle {
  fill: #3498DB;
  stroke: #fff;
  stroke-width: 0;
}

text {
  fill: #000;
  font: 10px sans-serif;
  pointer-events: none;
}

circle.node {
  cursor: pointer;
  stroke: #ff;
  stroke-width: 2px;
}

line.link {
  fill: none;
  stroke: #BDC3C7;
  stroke-width: 1.5px;
}

.CodeMirror.cm-s-neo
  color: #ECF0F1
  .cm-keyword
    color: #3498DB
  .cm-atom
    color: #9B59B6
  .cm-node
    color: #E74C3C
  .cm-string
    color: #E67E22
  .cm-variable
    color: #1ABC9C

marker
  fill: #BDC3C7

text
  fill: #fff
  .faded
    fill: #333

.node
  circle
    fill: #1ABC9C
    stroke-width: 2px;
    stroke: #fff

.node.faded
  circle
    fill: #C7F0E6

line.link
  fill: #BDC3C7
  &.faded
    stroke: #ECF0F1
    stroke-dasharray: 0,2 1
